# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–µ–π–±–ª–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ E2E —Ç–µ—Å—Ç–æ–≤

## üè∑Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã–µ –ª–µ–π–±–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –ª–µ–π–±–ª—ã

| –õ–µ–π–±–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π |
|-------|----------|--------------|
| `e2e:run` | –ó–∞–ø—É—Å—Ç–∏—Ç—å E2E —Ç–µ—Å—Ç—ã | ‚úÖ |
| `e2e:skip` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å E2E —Ç–µ—Å—Ç—ã | ‚ùå |

### –õ–µ–π–±–ª—ã —Ç–∏–ø–∞ —Ç–µ—Å—Ç–æ–≤

| –õ–µ–π–±–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-------|----------|--------------|
| `e2e:smoke` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ smoke —Ç–µ—Å—Ç—ã | ‚ùå |
| `e2e:full` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ | ‚ùå |
| *(–±–µ–∑ –ª–µ–π–±–ª–∞)* | –ó–∞–ø—É—Å—Ç–∏—Ç—å integration —Ç–µ—Å—Ç—ã | ‚úÖ |

### –õ–µ–π–±–ª—ã –º–æ–¥—É–ª–µ–π

| –õ–µ–π–±–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –º–æ–¥—É–ª—å |
|-------|----------|-------------------|
| `e2e:sds-node-configurator` | –¢–µ—Å—Ç—ã –¥–ª—è sds-node-configurator | sds-node-configurator |
| `e2e:sds-replicated-volume` | –¢–µ—Å—Ç—ã –¥–ª—è sds-replicated-volume | sds-replicated-volume |
| `e2e:data-export` | –¢–µ—Å—Ç—ã –¥–ª—è data-export | data-export |
| *(–±–µ–∑ –ª–µ–π–±–ª–∞)* | –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π | all |

### –õ–µ–π–±–ª—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –õ–µ–π–±–ª | –û–ø–∏—Å–∞–Ω–∏–µ | Runner | –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
|-------|----------|--------|------------------|
| `e2e:bare-metal` | –¢–µ—Å—Ç—ã –Ω–∞ bare-metal | self-hosted | 30-60 –º–∏–Ω |
| `e2e:hypervisor` | –¢–µ—Å—Ç—ã –Ω–∞ hypervisor | self-hosted | 60-120 –º–∏–Ω |
| *(–±–µ–∑ –ª–µ–π–±–ª–∞)* | –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã | ubuntu-latest | 5-10 –º–∏–Ω |

### –õ–µ–π–±–ª—ã –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞

| –õ–µ–π–±–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –í–ª–∏—è–Ω–∏–µ |
|-------|----------|---------|
| `e2e:priority:high` | –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ |
| `e2e:priority:low` | –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ |
| *(–±–µ–∑ –ª–µ–π–±–ª–∞)* | –û–±—ã—á–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ |

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### 1. –ó–∞–ø—É—Å–∫ smoke —Ç–µ—Å—Ç–æ–≤ –¥–ª—è sds-node-configurator
```
–õ–µ–π–±–ª—ã: e2e:run, e2e:smoke, e2e:sds-node-configurator
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ë—ã—Å—Ç—Ä—ã–µ smoke —Ç–µ—Å—Ç—ã –Ω–∞ GitHub runners
```

#### 2. –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ bare-metal
```
–õ–µ–π–±–ª—ã: e2e:run, e2e:full, e2e:bare-metal
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ self-hosted bare-metal runner
```

#### 3. –ü—Ä–æ–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```
–õ–µ–π–±–ª—ã: e2e:skip
–†–µ–∑—É–ª—å—Ç–∞—Ç: –¢–µ—Å—Ç—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è, –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –ø—Ä–æ–ø—É—Å–∫–µ
```

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ data-export –Ω–∞ hypervisor
```
–õ–µ–π–±–ª—ã: e2e:run, e2e:data-export, e2e:hypervisor, e2e:priority:high
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã data-export –Ω–∞ hypervisor –æ–∫—Ä—É–∂–µ–Ω–∏–∏
```

#### 5. –í—Å–µ –º–æ–¥—É–ª–∏, –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã, bare-metal
```
–õ–µ–π–±–ª—ã: e2e:run, e2e:full, e2e:bare-metal
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π –Ω–∞ bare-metal
```

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–µ–π–±–ª–æ–≤ –≤ PR

1. –û—Ç–∫—Ä–æ–π—Ç–µ PR –≤ GitHub
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –ª–µ–π–±–ª–æ–≤ (üè∑Ô∏è) —Ä—è–¥–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
3. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –ª–µ–π–±–ª—ã –∏–∑ —Å–ø–∏—Å–∫–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–π–±–ª–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–ï—Å–ª–∏ –ª–µ–π–±–ª—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –∏—Ö:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Labels**
2. –ù–∞–∂–º–∏—Ç–µ **New label**
3. –°–æ–∑–¥–∞–π—Ç–µ –ª–µ–π–±–ª—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–∞–±–ª–∏—Ü–µ –≤—ã—à–µ

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** –≤–∫–ª–∞–¥–∫—É
2. –ù–∞–π–¥–∏—Ç–µ workflow **E2E Tests Trigger**
3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∫ PR

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –£—Å–ª–æ–≤–∏—è –∑–∞–ø—É—Å–∫–∞

–¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π:
- ‚úÖ –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–µ–π–±–ª `e2e:run`
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–µ–π–±–ª `e2e:skip`
- ‚úÖ PR –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `opened`, `synchronize`, `labeled`, –∏–ª–∏ `unlabeled`

### –ú–∞—Ç—Ä–∏—Ü–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```yaml
strategy:
  matrix:
    include:
      - module: ${{ needs.parse-labels.outputs.module }}
        environment: ${{ needs.parse-labels.outputs.environment }}
        test_type: ${{ needs.parse-labels.outputs.test_type }}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –õ–µ–π–±–ª | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-------|----------------------|
| `module` | `e2e:*` | `all` |
| `environment` | `e2e:*` | `local` |
| `test_type` | `e2e:*` | `integration` |
| `priority` | `e2e:priority:*` | `normal` |

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–µ–π–±–ª–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–µ–π–±–ª—ã PR —á–µ—Ä–µ–∑ GitHub CLI
gh pr view <PR_NUMBER> --json labels --jq '.labels[].name'
```

### –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** ‚Üí **E2E Tests Trigger**
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π run
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ job'–æ–≤:
   - `Parse PR Labels` - –ø–∞—Ä—Å–∏–Ω–≥ –ª–µ–π–±–ª–æ–≤
   - `Run E2E Tests` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
   - `Skip E2E Tests Notification` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø—Ä–æ–ø—É—Å–∫–µ

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### –¢–µ—Å—Ç—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ª–µ–π–±–ª–∞ `e2e:run`
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–µ–π–±–ª–∞ `e2e:skip`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PR –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

#### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–æ–¥—É–ª—å/–æ–∫—Ä—É–∂–µ–Ω–∏–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è –ª–µ–π–±–ª–æ–≤
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–µ–π–±–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ workflow

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—Å–∫–æ–≤ –ø–æ –ª–µ–π–±–ª–∞–º
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ª–µ–π–±–ª–æ–≤

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ PR —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- ‚úÖ Slack —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ)
- ‚úÖ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ)

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º CI

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ù–æ–≤—ã–π workflow **E2E Tests Trigger** —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –æ—Å–Ω–æ–≤–Ω—ã–º **CI - Main Pipeline**:

- ‚úÖ –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

1. **–û—Å–Ω–æ–≤–Ω–æ–π CI** - –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
2. **E2E Tests Trigger** - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ª–µ–π–±–ª–æ–≤
3. **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫** - —á–µ—Ä–µ–∑ workflow_dispatch

## üìù Best Practices

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏

```bash
# –î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
e2e:run, e2e:smoke, e2e:sds-node-configurator

# –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
e2e:run, e2e:full, e2e:bare-metal

# –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
e2e:run, e2e:full, e2e:bare-metal, e2e:priority:high

# –î–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
e2e:skip
```

### –ò–∑–±–µ–≥–∞–π—Ç–µ

- ‚ùå –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `e2e:run` –∏ `e2e:skip`
- ‚ùå –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ª–µ–π–±–ª—ã
- ‚ùå –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `e2e:smoke` + `e2e:full`)

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ **Actions**
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –ª–µ–π–±–ª–æ–≤
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
4. –°–æ–∑–¥–∞–π—Ç–µ issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
